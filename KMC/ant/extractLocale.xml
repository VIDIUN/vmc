<?xml version="1.0" encoding="UTF-8"?>
<project name="extract locale files from all VMC projects" basedir="../../" default="build">
	
	<property name="LANGUAGE" value="en_US"/>
	
	<property name="TARGET_DIR" value="C:/Users/atar.shadmi/Desktop/${LANGUAGE}"/>
	
	<target name="build" depends="init, autocomplete, cairngorm, vidiunlib, vedlib, vmc">
		<echo>Version ${VMC_VERSION} packed successfully</echo>
	</target>
	
	<target name="autocomplete" >
		<mkdir dir="${TARGET_DIR}/autocomplete" description="Make sure there is a target directory"/>
		<copy todir="${TARGET_DIR}/autocomplete">
			<fileset dir="${basedir}/AutoComplete/locale/${LANGUAGE}" includes="**/*.properties"/>
		</copy>
    </target>
	
	<target name="cairngorm" >
		<mkdir dir="${TARGET_DIR}/cairngorm" description="Make sure there is a target directory"/>
		<copy todir="${TARGET_DIR}/cairngorm">
			<fileset dir="${basedir}/vendors/Cairngorm/locale/${LANGUAGE}" includes="**/*.properties"/>
		</copy>
    </target>
	
	<target name="vidiunlib" >
		<mkdir dir="${TARGET_DIR}/vidiunlib" description="Make sure there is a target directory"/>
		<copy todir="${TARGET_DIR}/vidiunlib">
			<fileset dir="${basedir}/VidiunLib/locale/${LANGUAGE}" includes="**/*.properties"/>
		</copy>
    </target>
	
	<target name="vedlib" >
		<mkdir dir="${TARGET_DIR}/vedlib" description="Make sure there is a target directory"/>
		<copy todir="${TARGET_DIR}/vedlib">
			<fileset dir="${basedir}/VedLib/locale/${LANGUAGE}" includes="**/*.properties"/>
		</copy>
    </target>
	
	<target name="vmc" >
		<mkdir dir="${TARGET_DIR}/vmc" description="Make sure there is a target directory"/>
		<copy todir="${TARGET_DIR}/vmc">
			<fileset dir="${basedir}/VMC/locale/${LANGUAGE}" includes="**/*.properties"/>
		</copy>
    </target>
	
<!--
	<target name="update_config" description="update version numbers in config file" depends="copy_root">
		<replace file="${PACK_DEPLOY_DIR}/config.ini" token="@@VMC_VERSION@@" value="${VMC_VERSION}"/>
		<replace file="${PACK_DEPLOY_DIR}/config.ini" token="@@VDP_VERSION@@" value="${VDP_VERSION}"/>
		<replace file="${PACK_DEPLOY_DIR}/config.ini" token="@@VCLIP_VERSION@@" value="${VCLIP_VERSION}"/>
		<replace file="${PACK_DEPLOY_DIR}/config.ini" token="@@VCW_VERSION@@" value="${VCW_VERSION}"/>
		<replace file="${PACK_DEPLOY_DIR}/config.ini" token="@@HTML5_VERSION@@" value="${HTML5_VERSION}"/>
	</target>
	
	<target name="copy_assets" description="copy required files to the version assets directory">
		<copy todir="${PACK_DEPLOY_DIR}/assets/flags">
			<fileset dir="${PACK_SOURCE_DIR}/assets/flags" includes="**/*"/>
		</copy>
		
		<basename property="WS_DIRECTORY_NAME" file="${basedir}/../"/>
		<echo>WS_DIRECTORY_NAME: ${WS_DIRECTORY_NAME}</echo>
			
		<copy file="${PACK_SOURCE_DIR}/workspaces/${WS_DIRECTORY_NAME}/VMC/assets/vmc_skin.swf" 
			tofile="${PACK_DEPLOY_DIR}/assets/vmc_skin.swf" />
    </target>
	
-->
	<target name="init">
		<mkdir dir="${TARGET_DIR}" description="Make sure there is a target directory"/>
	</target>
</project>