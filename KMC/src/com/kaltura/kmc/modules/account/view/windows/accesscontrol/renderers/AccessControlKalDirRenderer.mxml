<?xml version="1.0" encoding="utf-8"?>
<renderers:AccessControlRendererBase 
									 xmlns:mx="http://www.adobe.com/2006/mxml"
									 creationComplete="onCreationComplete(event)" width="100%" height="100%"
									 verticalAlign="middle" paddingLeft="4" horizontalScrollPolicy="off"
									 styleName="tableCellBoxRendererStyle"
									 xmlns:renderers="com.vidiun.vmc.modules.account.view.windows.accesscontrol.renderers.*">
	<mx:Script>
		<![CDATA[
			import com.vidiun.vo.AccessControlProfileVO;
			import com.vidiun.types.VidiunDirectoryRestrictionType;
			import com.vidiun.vo.VidiunDirectoryRestriction;
			import com.vidiun.types.VidiunSiteRestrictionType;
			import com.vidiun.vo.VidiunSiteRestriction;
			import com.vidiun.vo.VidiunBaseRestriction;


			private function onCreationComplete(event:Event = null):void {
				var acProfile:AccessControlProfileVO = this.data as AccessControlProfileVO;
				if (acProfile != null) {
					var foundRestriction:Boolean = false;
					for each (var restriction:VidiunBaseRestriction in acProfile.profile.restrictions) {
						if (restriction is VidiunDirectoryRestriction) {
							foundRestriction = true;
							vidDirLabel.text = (restriction as VidiunDirectoryRestriction).directoryRestrictionType == VidiunDirectoryRestrictionType.DONT_DISPLAY ? "Not Appear" : "Listing Only";

							break;
						}
					}

					vidDirLabel.text = foundRestriction ? vidDirLabel.text : "Listing & Playback";
				}
			}


			override public function validateNow():void {
				super.validateNow();
				onCreationComplete();
			}
		]]>
	</mx:Script>

	<mx:Label id='vidDirLabel' width="100%"/>
</renderers:AccessControlRendererBase>
